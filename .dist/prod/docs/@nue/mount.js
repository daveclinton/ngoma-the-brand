var d=Object.create;var{getPrototypeOf:m,defineProperty:c,getOwnPropertyNames:y}=Object;var w=Object.prototype.hasOwnProperty;var q=(e,n,t)=>{t=e!=null?d(m(e)):{};let r=n||!e||!e.__esModule?c(t,"default",{value:e,enumerable:!0}):t;for(let o of y(e))if(!w.call(r,o))c(r,o,{get:()=>e[o],enumerable:!0});return r};var u=((e)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!=="undefined"?require:n)[t]}):e)(function(e){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var g=((e)=>u)(function(e){return u.apply(this,arguments)}),l=[],v=0;async function O(e){let n=document.querySelector('[name="nue:components"]')?.getAttribute("content");if(!n)return[];let t=[];for(let r of n.split(" "))if(r){if(r==e)r+=`?${++v}`;let{lib:o}=await import(r);if(o)t.push(...o)}return t}async function b(e){let n=document.querySelectorAll("[custom]"),t=n[0]?await O(e):[];if(!t[0])return;let{createApp:r}=await import("./nue.js");for(let o of[...n]){let i=o.getAttribute("custom"),f=o.nextElementSibling,s=f?.type=="application/json"?JSON.parse(f.textContent):{},p=t.find((a)=>a.name==i);if(p){let a=r(p,s,t).mount(o);l.push(a)}else if(customElements.get(i));else console.error(`Component not defined: "${i}"`)}}async function P(){l.forEach((e)=>e.unmount()),l=[]}addEventListener("route",()=>b());addEventListener("DOMContentLoaded",()=>dispatchEvent(new Event("route")));export{P as unmountAll,b as mountAll};
